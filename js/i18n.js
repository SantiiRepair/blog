i18next.init({
  lng: detectLanguage(),
  fallbackLng: 'en',
  resources: {
    en: {
      translation: {
        'title': 'get the fuck out',
        'description': 'Digital obsession, open-source philosophy, motorcycle road trips and alternative music. Personal space with zero fucks given.',
        'og_description': 'Digital obsession, motorcycle road trips and alternative music',
        'about_title': 'About Me',
        'favorites': 'Favorites',
        'trips': 'Trips',
        'about_image_alt': 'me',
        'about_text': "I'm that guy — the ghost with a motorcycle. You won't find me home. Every day I'm rolling somewhere new, chasing curves or quiet corners. When the sun dips, I turn into something else: a creature of the screen glow, coding in the dark, getting lost in random movies and series that find me more than I find them. So if you're out there and boredom's creeping in… send up a smoke signal. I'm already looking at the horizon; I'll see it. What do you say? Feel like a drink with a phantom rider? Or just join me on the road for a while, no destination needed. Maybe we just talk over coffee while the world sleeps. I'm here. I'm out here. So tell me… what do you want?",
        'ps_note': "p.s hmu if you like talking about road trips and drinks ;p",
        'chat_title': 'Cbox is an embedded real-time chat web app',
        'memory_quote': 'The best you ever had is just a memory',
        'friends_quote': 'the family I never had, my friends',
        'paramo_alt': 'Paramo',
        'pico_alt': 'Pico Espejo',
        'beach_alt': 'Choroni',
        'mito_alt': 'Mito craft brewery',
        'paragliding_alt': 'Paragliding',
        'morro_alt': 'El Morro village',
        'azulita_alt': 'Azulita',
        'alambique_alt': 'Alambique tavern',
        'cata_alt': 'Cata',
        'welcum_alt': 'Welcome',
        'favorites_description': 'My favorites section, if you\'re curious about it, there you go.',
        'favorites_title': 'i eat losers for breakfast',
        'moto_alt': 'Motorcycle',
        'intro_text': 'Little things, simple things... going anywhere just to burn some gas, listening to nostalgic music from old bands, watching fantasy movies or series, having a Nescafe in the early morning, watching a sunrise, drinking and laughing until your chest hurts... just enjoying anything in this chaotic world.',
        'pets_title': 'pets',
        'tobby_note': 'this is Tobby, as you can see he likes to sleep, who doesn\'t?',
        'tobby1_alt': 'Tobby making a funny face',
        'tobby2_alt': 'Sleepy Tobby',
        'tobby3_alt': 'Tobby with funny expression',
        'movies_title': 'movies',
        'harry_note': 'i don\'t know what it was, but I was totally hooked on every movie.',
        'harry_title': 'Harry & Hermione Dance to Forget Their Worries | Harry Potter and the Deathly Hallows Pt. 1',
        'joe_note': 'i\'m not really into romantic movies, but...',
        'joe_title': 'Meet Joe Black (1998) Coffee Shop Scene Part 2 | HD',
        'wolf_note': 'every fucking time.',
        'wolf_title': 'Wolf of Wall Street - motivational speech',
        'series_title': 'series',
        'breaking_note': 'how did I get here? Too many memes everywhere, I had to see it.',
        'breaking_title': 'Jesse Pinkman and Walter White Yeahhh come on baby scene - Breaking Bad',
        'office_note': 'recommended by a maracucho digital nomad.',
        'office_title': 'Every That\'s What She Said Ever - The Office US',
        'stranger_note': 'traded shows with a special girl: I watched hers, she\'s watching Breaking Bad. I loved it.',
        'stranger_title': 'Max\'s Song (Full Scene) | Kate Bush - Running Up That Hill | Stranger Things | Netflix',
        'music_title': 'music',
        'spotify_title': 'My Favorites Playlist'
      }
    },
    es: {
      translation: {
        'title': 'get the fuck out',
        'description': 'Obsesión digital, filosofía open-source, viajes en motocicleta y música alternativa. Espacio personal, si no te gusta, vete.',
        'og_description': 'Obsesión digital, viajes en motocicleta y música alternativa',
        'about_title': 'Sobre mí',
        'favorites': 'Favoritos',
        'trips': 'Viajes',
        'about_image_alt': 'yo',
        'about_text': "Soy el freaky gocho con moto. No me vas a encontrar en casa. Cada día estoy en un lugar nuevo, persiguiendo curvas, sintiendo el viento. Cuando cae el sol soy un zombie: codeo en la oscuridad, me pierdo en películas y series que me encuentran más que yo a ellas, y sigo así hasta que el cansancio me noquea. Así que si estás por ahí y el aburrimiento empieza a asomarse… manda una señal. Yo ya estoy mirando al horizonte; la veré. ¿Qué te parece? ¿Quieres beber algo? ¿O prefieres dar una vuelta a donde sea? Quizá solo tomar café mientras el mundo duerme. Estoy aquí. Estoy aquí fuera. Así que dime… ¿qué buscas? ¿qué haces aquí?",
        'ps_note': "pd. hablame si te gusta hablar de rutas y tragos ;p",
        'chat_title': 'Cbox es una aplicación web de chat en tiempo real integrada',
        'memory_quote': 'The best you ever had is just a memory',
        'friends_quote': 'la familia que nunca tuve, mis amigos',
        'paramo_alt': 'Paramo',
        'pico_alt': 'Pico Espejo',
        'beach_alt': 'Choroni',
        'mito_alt': 'Cervecería artesanal Mito',
        'paragliding_alt': 'Parapente',
        'morro_alt': 'Pueblo El Morro',
        'azulita_alt': 'Azulita',
        'alambique_alt': 'Tasca Alambique',
        'cata_alt': 'Cata',
        'welcum_alt': 'Welcome',
        'favorites_description': 'Mi sección de favoritos, si te da curiosidad, ahí lo tienes.',
        'favorites_title': 'me como a los perdedores en el desayuno',
        'moto_alt': 'Motocicleta',
        'intro_text': 'Pequeñas cosas, cosas simples... ir a cualquier lado solo para quemar gasolina, escuchar música nostálgica de bandas viejas, ver películas o series de fantasía, tomar un Nescafé en la madrugada, ver un amanecer, beber y reír hasta que te duela el pecho... solo disfrutar cualquier cosa en este mundo caótico.',
        'pets_title': 'mascotas',
        'tobby_note': 'este es Tobby, como puedes ver le gusta dormir, ¿a quién no?',
        'tobby1_alt': 'Tobby haciendo una cara graciosa',
        'tobby2_alt': 'Tobby dormilón',
        'tobby3_alt': 'Tobby con expresión divertida',
        'movies_title': 'películas',
        'harry_note': 'no sé qué fue, pero me enganché totalmente con cada película.',
        'harry_title': 'Harry y Hermione bailan para olvidar sus preocupaciones | Harry Potter y las Reliquias de la Muerte Parte 1',
        'joe_note': 'no me gustan mucho las películas románticas, pero...',
        'joe_title': 'Meet Joe Black (1998) Escena de la cafetería Parte 2 | HD',
        'wolf_note': 'todas las malditas veces.',
        'wolf_title': 'El Lobo de Wall Street - discurso motivacional',
        'series_title': 'series',
        'breaking_note': '¿cómo llegué aquí? Demasiados memes por todos lados, tuve que verla.',
        'breaking_title': 'Jesse Pinkman y Walter White escena Yeahhh come on baby - Breaking Bad',
        'office_note': 'recomendada por un nómada digital maracucho.',
        'office_title': 'Cada "Eso es lo que ella dijo" de siempre - The Office US',
        'stranger_note': 'intercambié series con una chica especial: yo vi las suyas, ella está viendo Breaking Bad. Me encantó.',
        'stranger_title': 'La canción favorita de Max (Escena completa) | Kate Bush - Running Up That Hill | Stranger Things | Netflix',
        'music_title': 'música',
        'spotify_title': 'Mi Lista de Favoritos'
      }
    },
    de: {
      translation: {
        'title': 'get the fuck out',
        'description': 'Digitale Obsession, Open-Source-Philosophie, Motorradreisen und alternative Musik. Persönlicher Raum, auf den geschissen wird.',
        'og_description': 'Digitale Obsession, Motorradreisen und alternative Musik',
        'about_title': 'Über mich',
        'favorites': 'Favoriten',
        'trips': 'Reisen',
        'about_image_alt': 'ich',
        'about_text': "Ich bin dieser Typ — das Gespenst mit Motorrad. Du wirst mich nicht zu Hause finden. Jeden Tag rolle ich woanders hin, jage Kurven oder stille Ecken. Wenn die Sonne untergeht, verwandle ich mich in etwas anderes: ein Geschöpf des Bildschirmscheins, programmiere im Dunkeln, verliere mich in zufälligen Filmen und Serien, die mich eher finden als ich sie. Also wenn du da draußen bist und die Langeweile schleicht sich ein… schick ein Rauchzeichen. Ich schaue schon auf den Horizont; ich werde es sehen. Was sagst du? Lust auf einen Drink mit einem Phantomfahrer? Oder begleite mich einfach eine Weile auf der Straße, ohne Ziel. Vielleicht reden wir nur bei Kaffee, während die Welt schläft. Ich bin hier. Ich bin hier draußen. Also sag mir… was willst du?",
        'ps_note': "ps. melde dich, wenn du über Roadtrips und Drinks reden magst ;p",
        'chat_title': 'Cbox ist eine eingebettete Echtzeit-Chat-Web-App',
        'memory_quote': 'The best you ever had is just a memory',
        'friends_quote': 'die Familie, die ich nie hatte, meine Freunde',
        'paramo_alt': 'Paramo',
        'pico_alt': 'Pico Espejo',
        'beach_alt': 'Choroni',
        'mito_alt': 'Mito Craft-Brauerei',
        'paragliding_alt': 'Paragliding',
        'morro_alt': 'Dorf El Morro',
        'azulita_alt': 'Azulita',
        'alambique_alt': 'Alambique Taverne',
        'cata_alt': 'Cata',
        'welcum_alt': 'Welcome',
        'favorites_description': 'Meine Favoriten-Sektion, wenn du neugierig bist, hier ist sie.',
        'favorites_title': 'ich frühstücke Verlierer',
        'moto_alt': 'Motorrad',
        'intro_text': 'Kleine Dinge, einfache Dinge... irgendwohin fahren, nur um Benzin zu verbrennen, nostalgische Musik von alten Bands hören, Fantasy-Filme oder Serien schauen, frühmorgens einen Nescafe trinken, einen Sonnenaufgang beobachten, trinken und lachen bis die Brust schmerzt... einfach alles genießen in dieser chaotischen Welt.',
        'pets_title': 'haustiere',
        'tobby_note': 'das ist Tobby, wie du sehen kannst, schläft er gerne, wer tut das nicht?',
        'tobby1_alt': 'Tobby macht ein lustiges Gesicht',
        'tobby2_alt': 'Schläfriger Tobby',
        'tobby3_alt': 'Tobby mit lustigem Ausdruck',
        'movies_title': 'filme',
        'harry_note': 'ich weiß nicht was es war, aber ich war bei jedem Film total gefesselt.',
        'harry_title': 'Harry & Hermione tanzen um Sorgen zu vergessen | Harry Potter und die Heiligtümer des Todes Teil 1',
        'joe_note': 'ich stehe nicht wirklich auf Liebesfilme, aber...',
        'joe_title': 'Meet Joe Black (1998) Cafeteria-Szene Teil 2 | HD',
        'wolf_note': 'jedes verdammte Mal.',
        'wolf_title': 'Wolf of Wall Street - motivierende Rede',
        'series_title': 'serien',
        'breaking_note': 'wie bin ich hierher gekommen? Zu viele Memes überall, ich musste es sehen.',
        'breaking_title': 'Jesse Pinkman und Walter White Yeahhh come on baby Szene - Breaking Bad',
        'office_note': 'empfohlen von einem maracucho digitalen Nomaden.',
        'office_title': 'Jedes "Das ist was sie sagte" jemals - The Office US',
        'stranger_note': 'Serien mit einem besonderen Mädchen getauscht: ich habe ihre gesehen, sie schaut Breaking Bad. Ich habe es geliebt.',
        'stranger_title': 'Max\'s Lieblingssong (Vollständige Szene) | Kate Bush - Running Up That Hill | Stranger Things | Netflix',
        'music_title': 'musik',
        'spotify_title': 'Meine Favoriten Playlist'
      }
    },
    ru: {
      translation: {
        'title': 'get the fuck out',
        'description': 'Цифровая одержимость, философия открытого исходного кода, мотоциклетные путешествия и альтернативная музыка. Личное пространство, на которое всем плевать.',
        'og_description': 'Цифровая одержимость, мотоциклетные путешествия и альтернативная музыка',
        'about_title': 'Обо мне',
        'favorites': 'Избранное',
        'trips': 'Поездки',
        'about_image_alt': 'я',
        'about_text': "Я тот самый парень — призрак с мотоциклом. Ты не найдешь меня дома. Каждый день я качу куда-то новое, гоняюсь за поворотами или тихими уголками. Когда садится солнце, я превращаюсь во что-то другое: существо из свечения экрана, программирую в темноте, теряюсь в случайных фильмах и сериалах, которые находят меня чаще, чем я их. Так что если ты там снаружи и скука подкрадывается… подавай дымовой сигнал. Я уже смотрю на горизонт; я увижу его. Что скажешь? Хочешь выпить с призрачным наездником? Или просто присоединись ко мне на дороге на время, без необходимости в пункте назначения. Может, просто поболтаем за кофе, пока мир спит. Я здесь. Я здесь, снаружи. Так что скажи мне… чего ты хочешь?",
        'ps_note': "п.с. напиши, если любишь говорить о поездках на мотоцикле и выпивке ;p",
        'chat_title': 'Cbox — это встроенное веб-приложение для чата в реальном времени',
        'memory_quote': 'The best you ever had is just a memory',
        'friends_quote': 'семья, которой у меня никогда не было, мои друзья',
        'paramo_alt': 'Парамо',
        'pico_alt': 'Пико Эспехо',
        'beach_alt': 'Чорони',
        'mito_alt': 'Крафтовая пивоварня Mito',
        'paragliding_alt': 'Парапланеризм',
        'morro_alt': 'Поселок Эль Морро',
        'azulita_alt': 'Азулита',
        'alambique_alt': 'Таверна Аламбике',
        'cata_alt': 'Ката',
        'welcum_alt': 'Welcome',
        'favorites_description': 'Мой раздел с избранным, если тебе интересно, вот он.',
        'favorites_title': 'я ем неудачников на завтрак',
        'moto_alt': 'Мотоцикл',
        'intro_text': 'Маленькие вещи, простые вещи... ехать куда угодно просто чтобы сжечь бензин, слушать ностальгическую музыку старых групп, смотреть фэнтези фильмы или сериалы, пить Nescafe ранним утром, наблюдать восход солнца, пить и смеяться пока не заболит грудь... просто наслаждаться чем угодно в этом хаотичном мире.',
        'pets_title': 'питомцы',
        'tobby_note': 'это Тоби, как видишь, он любит спать, а кто нет?',
        'tobby1_alt': 'Тоби строит смешную рожицу',
        'tobby2_alt': 'Сонный Тоби',
        'tobby3_alt': 'Тоби со смешным выражением',
        'movies_title': 'фильмы',
        'harry_note': 'не знаю что это было, но я был полностью поглощен каждым фильмом.',
        'harry_title': 'Гарри и Гермиона танцуют чтобы забыть о проблемах | Гарри Поттер и Дары Смерти Часть 1',
        'joe_note': 'я не особо люблю романтические фильмы, но...',
        'joe_title': 'Знакомьтесь, Джо Блэк (1998) Сцена в кофейне Часть 2 | HD',
        'wolf_note': 'каждый чертов раз.',
        'wolf_title': 'Волк с Уолл-стрит - мотивационная речь',
        'series_title': 'сериалы',
        'breaking_note': 'как я здесь оказался? Слишком много мемов везде, пришлось посмотреть.',
        'breaking_title': 'Джесси Пинкман и Уолтер Уайт сцена Yeahhh come on baby - Во все тяжкие',
        'office_note': 'рекомендовано маракучским цифровым кочевником.',
        'office_title': 'Каждое "Это то что она сказала" когда-либо - Офис US',
        'stranger_note': 'обменялся сериалами с особенной девушкой: я посмотрел её, она смотрит Во все тяжкие. Мне понравилось.',
        'stranger_title': 'Любимая песня Макс (Полная сцена) | Кейт Буш - Running Up That Hill | Очень странные дела | Netflix',
        'music_title': 'музыка',
        'spotify_title': 'Мой Плейлист Избранного'
      }
    }
  }
}, function (err, t) {
  applyTranslations();
  document.title = i18next.t('title');
  document.documentElement.lang = i18next.language;
});

function detectLanguage() {
  const browserLang = navigator.language || navigator.userLanguage;
  const langCode = browserLang.split('-')[0];
  const supportedLangs = ['en', 'es', 'de', 'ru'];

  return supportedLangs.includes(langCode) ? langCode : 'en';
}

function applyTranslations() {
  document.querySelectorAll('[data-i18n]').forEach(element => {
    const key = element.getAttribute('data-i18n');
    element.textContent = i18next.t(key);
  });

  document.querySelectorAll('video[data-i18n^="[title]"]').forEach(video => {
    const key = video.getAttribute('data-i18n').replace('[title]', '');
    video.setAttribute('title', i18next.t(key));
  });

  const metaDescription = document.querySelector('meta[name="description"]');
  const metaOgDescription = document.querySelector('meta[property="og:description"]');
  const metaOgTitle = document.querySelector('meta[property="og:title"]');

  if (metaDescription) {
    metaDescription.setAttribute('content', i18next.t('description'));
  }

  if (metaOgDescription) {
    metaOgDescription.setAttribute('content', i18next.t('og_description'));
  }

  if (metaOgTitle) {
    metaOgTitle.setAttribute('content', i18next.t('title'));
  }

  const images = {
    'self.webp': 'paramo_alt',
    'pico.webp': 'pico_alt',
    'beach.webp': 'beach_alt',
    'mito.webp': 'mito_alt',
    'paragliding.webp': 'paragliding_alt',
    'morro.webp': 'morro_alt',
    'azulita.webp': 'azulita_alt',
    'alambique.webp': 'alambique_alt',
    'cata.webp': 'cata_alt',
    'welcum.png': 'welcum_alt',
    'about.png': 'about_image_alt'
  };

  Object.entries(images).forEach(([srcPart, translationKey]) => {
    const image = document.querySelector(`img[src*="${srcPart}"]`);
    if (image) {
      image.setAttribute('alt', i18next.t(translationKey));
    }
  });

  const chatIframe = document.querySelector('iframe[title*="Cbox"]');
  if (chatIframe) {
    chatIframe.setAttribute('title', i18next.t('chat_title'));
  }

  document.documentElement.lang = i18next.language;
}